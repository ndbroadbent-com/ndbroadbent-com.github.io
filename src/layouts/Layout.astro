---
interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Nathan Broadbent - Software Developer" />
    <meta name="viewport" content="width=device-width" />
    <meta name="author" content="Nathan Broadbent" />

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#603cba">
    <meta name="theme-color" content="#ffffff">

    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>

    <!-- Theme initialization (prevent FOUC) -->
    <script is:inline>
      (function() {
        const theme = localStorage.getItem('theme-preference') || 'system';
        const appliedTheme = theme === 'system'
          ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light')
          : theme;
        if (appliedTheme === 'dark') {
          document.documentElement.setAttribute('data-theme', 'dark');
        }
      })();
    </script>

    <script async src="https://pa-ndbr.nathan-f77.workers.dev/main.js"></script>
    <script>
      window.plausible=window.plausible||function(){(plausible.q=plausible.q||[]).push(arguments)},plausible.init=plausible.init||function(i){plausible.o=i||{}};
      plausible.init({
        endpoint: "https://pa-ndbr.nathan-f77.workers.dev/api/event"
      })
    </script>
  </head>
  <body>
    <slot />
  </body>
</html>

<style is:global>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

  /* CSS Reset */
  *, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  /* 90s Retro Theme Variables - Light Theme (Bright) */
  :root {
    --bg-color: #005A5A;
    --bg-alt-color: #FF00FF;
    --text-color: #FFFF00;
    --text-shadow: #FF00FF;
    --link-color: #00FFFF;
    --link-hover: #FF00FF;
    --link-visited: #FF00FF;
    --border-color: #00FFFF;
    --jazz-teal: #006161;
    --jazz-purple: #674E99;
    --jazz-pink: #8B0E4C;
    --jazz-yellow: #B29600;
    --neon-green: #00FF00;
    --neon-pink: #FF6EC7;
    --cyber-blue: #00FFFF;
  }

  [data-theme="dark"] {
    --bg-color: #0a0a0a;
    --bg-alt-color: #1a1a1a;
    --text-color: #00FF00;
    --text-shadow: #000000;
    --link-color: #00FFFF;
    --link-hover: #FFFF00;
    --link-visited: #FF00FF;
    --border-color: #00FFFF;
    --jazz-teal: #001a1a;
    --jazz-purple: #1a0033;
    --jazz-pink: #330019;
    --jazz-yellow: #1a1a00;
    --neon-green: #00FF00;
    --neon-pink: #FF00FF;
    --cyber-blue: #00FFFF;
  }

  [data-theme="light"] {
    --bg-color: #005A5A;
    --bg-alt-color: #FF00FF;
    --text-color: #FFFF00;
    --text-shadow: #FF00FF;
    --link-color: #00FFFF;
    --link-hover: #FF00FF;
    --link-visited: #FF00FF;
    --border-color: #00FFFF;
    --jazz-teal: #006161;
    --jazz-purple: #674E99;
    --jazz-pink: #8B0E4C;
    --jazz-yellow: #B29600;
    --neon-green: #00FF00;
    --neon-pink: #FF6EC7;
    --cyber-blue: #00FFFF;
  }

  html {
    font-family: 'Comic Sans MS', 'Comic Sans', cursive, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    font-size: 16px;
    line-height: 1.5;
    scroll-behavior: smooth;
  }

  body {
    background-color: var(--bg-color);
    color: var(--text-color);
    min-height: 100vh;
    padding-top: 70px;
    background-image:
      repeating-linear-gradient(
        45deg,
        transparent,
        transparent 10px,
        rgba(255, 255, 255, 0.03) 10px,
        rgba(255, 255, 255, 0.03) 20px
      ),
      repeating-linear-gradient(
        -45deg,
        transparent,
        transparent 10px,
        rgba(0, 0, 0, 0.03) 10px,
        rgba(0, 0, 0, 0.03) 20px
      ),
      linear-gradient(
        90deg,
        var(--jazz-teal) 0%,
        var(--jazz-purple) 25%,
        var(--jazz-pink) 50%,
        var(--jazz-yellow) 75%,
        var(--jazz-teal) 100%
      );
    background-size: 100% 100%;
    animation: rainbow-shift 20s ease infinite;
  }

  [data-theme="dark"] body {
    background-image:
      radial-gradient(circle at 0% 0%, rgba(0, 255, 255, 0.03) 0%, transparent 50%),
      radial-gradient(circle at 100% 100%, rgba(0, 255, 0, 0.03) 0%, transparent 50%),
      radial-gradient(circle, rgba(255, 255, 255, 0.05) 2px, transparent 2px),
      radial-gradient(circle, rgba(255, 255, 255, 0.05) 2px, transparent 2px),
      linear-gradient(
        135deg,
        #000000 0%,
        #0a0a0a 25%,
        #0f0f0f 50%,
        #0a0a0a 75%,
        #000000 100%
      );
    background-size: 100% 100%, 100% 100%, 12px 12px, 12px 12px, 100% 100%;
    background-position: 0 0, 0 0, 0 0, 6px 6px, 0 0;
    animation: none;
  }

  @keyframes rainbow-shift {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Comic Sans MS', 'Comic Sans', cursive;
    font-weight: 700;
    line-height: 1.2;
    letter-spacing: 0.05em;
  }

  h1 {
    font-size: 3.5rem;
    font-weight: 800;
    margin-bottom: 1.5rem;
    color: var(--text-color);
    animation: blink 2s infinite, wiggle 3s ease-in-out infinite;
  }

  @keyframes blink {
    0%, 49%, 100% { opacity: 1; }
    50%, 99% { opacity: 0.7; }
  }

  @keyframes wiggle {
    0%, 100% { transform: rotate(-2deg); }
    50% { transform: rotate(2deg); }
  }

  h2 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1.25rem;
    color: #6641b0;
    background: #00FF00;
    padding: 0.5rem 1rem;
    display: inline-block;
  }

  h3 {
    font-size: 1.5rem;
    margin-bottom: 0.75rem;
    font-weight: 600;
    color: #6641b0;
    background: #00FF00;
    padding: 0.25rem 0.75rem;
    display: inline-block;
  }

  a {
    color: var(--link-color);
    text-decoration: underline;
    font-weight: bold;
    transition: all 0.1s ease;
  }

  a:hover {
    color: var(--link-hover);
    text-decoration: none;
    background: var(--text-shadow);
    padding: 2px 4px;
  }

  a:visited {
    color: var(--link-visited);
  }

  .section {
    padding: 4rem 0;
    position: relative;
    border: 5px ridge var(--border-color);
    margin: 2rem 0;
    box-shadow: 10px 10px 0px rgba(0, 0, 0, 0.5);
  }

  .section:nth-of-type(even) {
    background: repeating-linear-gradient(
      45deg,
      rgba(255, 0, 255, 0.1),
      rgba(255, 0, 255, 0.1) 20px,
      rgba(0, 255, 255, 0.1) 20px,
      rgba(0, 255, 255, 0.1) 40px
    );
  }

  .section:nth-of-type(odd) {
    background: repeating-linear-gradient(
      -45deg,
      rgba(255, 255, 0, 0.1),
      rgba(255, 255, 0, 0.1) 20px,
      rgba(0, 255, 0, 0.1) 20px,
      rgba(0, 255, 0, 0.1) 40px
    );
  }

  [data-theme="dark"] .section:nth-of-type(even),
  [data-theme="dark"] .section:nth-of-type(odd) {
    background: transparent;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
  }

  @media (max-width: 768px) {
    .section {
      padding: 3.75rem 0;
    }

    h1 {
      font-size: 2rem;
    }

    h2 {
      font-size: 1.5rem;
    }
  }
</style>
