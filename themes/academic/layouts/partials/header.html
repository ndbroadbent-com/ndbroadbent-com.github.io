<!DOCTYPE html>
<html lang="{{ with .Site.LanguageCode }}{{ . }}{{ else }}en-US{{ end }}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="theme" content="hugo-academic">
    {{ .Hugo.Generator }}
    {{ with .Site.Params.name }}<meta name="author" content="{{ . }}">{{ end }}
    {{ with .Site.Params.role }}<meta name="description" content="{{ . }}">{{ end }}

    <link rel="stylesheet" href="{{ .Site.BaseURL }}css/highlight.min.css">
    <link rel="stylesheet" href="{{ .Site.BaseURL }}css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ .Site.BaseURL }}css/font-awesome.min.css">
    <link rel="stylesheet" href="{{ .Site.BaseURL }}css/academicons.min.css">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700|Merriweather|Roboto+Mono">
    <link rel="stylesheet" href="{{ .Site.BaseURL }}css/hugo-academic.css">
    {{ range .Site.Params.custom_css }}
    <link rel="stylesheet" href="{{ $.Site.BaseURL }}css/{{ . }}">
    {{ end }}

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#603cba">
    <meta name="theme-color" content="#ffffff">

    <link rel="canonical" href="{{ .Permalink }}">

    <title>{{ if not .IsHome }}{{ .Title }} | {{ end }}{{ .Site.Title }}</title>
    <script defer data-domain="ndbroadbent.com" data-api="https://pa-ndbr.nathan-f77.workers.dev/api/event" src="https://pa-ndbr.nathan-f77.workers.dev/js/script.js"></script>

    <!-- Theme initialization (prevent FOUC) -->
    <script>
      (function() {
        const theme = localStorage.getItem('theme-preference') || 'system';
        const appliedTheme = theme === 'system'
          ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light')
          : theme;
        if (appliedTheme === 'dark') {
          document.documentElement.setAttribute('data-theme', 'dark');
        }
      })();
    </script>
</head>
<body id="top">
